<!DOCTYPE HTML>
<html>
  <head>
    <title>Fate and Transport of Indoor Microbiological Aerosols (FaTIMA)</title>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="description" content="Nano-particle Exposure Tool">
    <meta name="keywords" content="CONTAM, CONTAMW, multizone, multizone modeling, contaminant, 
      indoor air quality, IAQ, ventilation, airflow, modeling">
    <script type="text/javascript" src="../contam/contam_worker_driver_1.js"></script>
    <script type="text/javascript" src="../contam/unitsConversions.js"></script>
    <script type="text/javascript" src="../contam/unitsSetup.js"></script>
    <script type="text/javascript" src="../contam/unitsStrings.js"></script>
    <script type="text/javascript" src="../contam/utils/sprintf_1.js"></script>
    <script type="text/javascript" src="../contam/utils/time_utilities.js"></script>
    <script type="text/javascript" src="nano_10.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(Nano.drawChart);
    </script>
    <script type="text/javascript" src="../../menu.js"></script>
    <link href="../../site.css" rel="stylesheet">
    <link href="app.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body>
    <div class="title"  style="display: flex; justify-content: space-between;">
      <div>
        <a href="https://www.nist.gov/el/energy-and-environment-division-73200/nist-multizone-modeling" class="blacklink">
          <img src="../../images/NIST_logo.svg" width="151" height="40">
        </a>
        <h1 class="inblock">Multizone Modeling</h1>
      </div>
      <nav>
        <input id="menuImage" type="image" alt="Menu Icon"
          src="../../images/menuIcon.svg" width="40" height="40">
      </nav>
    </div>

    <article>
      <div style="display: flex; justify-content: space-between;">
        <div>
          <h2>Fate and Transport of Indoor Microbiological Aerosols (FaTIMA)</h2>
          <p><strong>Instructions: Set Inputs then click the RUN SIMULATION button.</strong></p>
          <h3>Inputs</h3>
        </div>
      </div>
      <!---INPUTS -->
      <div class="section">

        <!---Zone Geometry -->
        <div class="sectiongrid">
          <div class="unithead">Zone Geometry</div>
          <div class="unit">
            <div><label for="BuildingVolumeInput">Volume</label></div>
            <input type="number" step="any" min="0.01" id="BuildingVolumeInput" required>
            <select id="BuildingVolumeCombo"></select>
          </div>
          <div class="unit">
            <div><label for="LevelHeightInput">Level Height</label></div>
            <input type="number" step="any" min="0.01" id="LevelHeightInput" disabled>
            <select id="LevelHeightCombo"></select>
          </div>
          <div class="unit">
            <div><label for="SurfaceAreaFloorInput">Floor Area</label></div>
            <input type="number" step="any" min="0.01" id="SurfaceAreaFloorInput" required>
            <select id="SurfaceAreaFloorCombo"></select>
          </div>
          <div class="unit">
            <div><label for="SurfaceAreaWallInput">Wall Area</label></div>
            <input type="number" step="any" min="0.01" id="SurfaceAreaWallInput" required> 
            <span id="SurfaceAreaWallUnits"></span>
          </div>
          <div class="unit">
            <div><label for="SurfaceAreaCeilingInput">Ceiling Area</label></div>
            <input type="number" step="any" min="0.01" id="SurfaceAreaCeilingInput" required> 
            <span id="SurfaceAreaCeilingUnits"></span>
          </div>
          <div class="unit">
            <div><label for="SurfaceAreaOtherInput">Other Surface Area</label></div>
            <input type="number" step="any" min="0.01" id="SurfaceAreaOtherInput" required> 
            <span id="SurfaceAreaOtherUnits"></span>
          </div>
        </div>

        <!---infiltration -->
        <div class="sectiongrid">
          <div class="unithead">Infiltration</div>
          <div class="unit">
            <div><label for="InfiltrationInput">Infitration</label></div>
            <input type="number" step="0.01" min="0" id="InfiltrationInput" required> 1 / h
          </div>
          <div class="unit">
            <div><label for="PenetrationFactorInput">Particle Penetration Coefficient</label></div>
            <input type="number" step="0.01" min="0" max="1.0" id="PenetrationFactorInput" required>
          </div>
        </div>

        <!--- Ventilation System -->
        <div class="sectiongrid">
          <div class="unithead">Ventilation System</div>
            <div class="unit">
              <div><label for="SupplyRateInput">Supply Airflow Rate</label></div>
              <input type="number" step="any" min="0" id="SupplyRateInput" required>
              <select id="SupplyRateCombo"></select>
            </div>
            <div class="unit">
              <div><label for="OAIntakeFracInput">Outdoor Air Intake Fraction</label></div>
              <input type="number" step="0.01" min="0" max="1" id="OAIntakeFracInput" required>
            </div>
            <div class="unit">
              <div><label for="ReturnRateInput">Return Airflow Rate</label></div>
              <input type="number" step="any" min="0" id="ReturnRateInput" required>
              <span id="ReturnRateUnits"></span>
            </div>
            <div class="unit">
              <div><label for="SupplyRateInput">Local Exhaust Airflow Rate</label></div>
              <input type="number" step="any" min="0" id="ExhaustRateInput" required>
              <span id="ExhaustRateUnits"></span>
            </div>
        </div>

          <!--- System Filters -->
          <div class="sectiongrid">
            <div class="unithead">System Filters</div>
            <div class="unit">
              <div><label for="OAFilterSelect">Outdoor Air Filter</label></div>
              <select id="OAFilterSelect">
                <option>None</option>
                <option>MERV 4</option>
                <option>MERV 5</option>
                <option>MERV 6</option>
                <option>MERV 7</option>
                <option>MERV 8</option>
                <option>MERV 9</option>
                <option>MERV 10</option>
                <option>MERV 11</option>
                <option>MERV 12</option>
                <option>MERV 13</option>
                <option>MERV 14</option>
                <option>MERV 15</option>
                <option>MERV 16</option>
              </select>
            </div>
            <div class="unit">
              <div><label for="RecircFilterSelect">Recirculation Air Filter</label></div>
              <select id="RecircFilterSelect">
                <option>None</option>
                <option>MERV 4</option>
                <option>MERV 5</option>
                <option>MERV 6</option>
                <option>MERV 7</option>
                <option>MERV 8</option>
                <option>MERV 9</option>
                <option>MERV 10</option>
                <option>MERV 11</option>
                <option>MERV 12</option>
                <option>MERV 13</option>
                <option>MERV 14</option>
                <option>MERV 15</option>
                <option>MERV 16</option>
              </select>
            </div>
            </div>  

        <!--- Calculated Flows -->
        <div class="sectiongrid">
          <div class="unithead">Calculated Airflows</div>
          <div class="unit">
            <div><label for="AchCalc">Total Outdoor Air Change Rate</label></div>
            <input type="number" step="any" min="0" disabled id="AchCalc">
            <select id="AchCombo"></select>
          </div>
          <div class="unit">
            <div><label for="QoaCalc">Outdoor Air Intake Rate</label></div>
            <input type="number" step="any" min="0" disabled id="QoaCalc">
            <span id="QoaCalcUnits"></span>
          </div>
          <div class="unit">
            <div><label for="QrecCalc">Recirculation Airflow Rate</label></div>
            <input type="number" step="any" min="0" disabled id="QrecCalc">
            <span id="QrecCalcUnits"></span>
          </div>
        </div>

        <!-- Room Air Cleaner -->
        <div class="sectiongrid">
          <div class="unithead">Room Air Cleaner</div>
          <div class="unit">
            <div><label for="AirCleanerFlowRateInput">Maximum Airflow Rate</label></div>
            <input type="number" step="any" min="0.01" id="AirCleanerFlowRateInput" required>
            <select id="AirCleanerFlowRateCombo"></select>
          </div>
          <div class="unit">
            <div><label for="AirCleanerFlowFractionInput">Fan Flow Fraction</label></div>
            <input type="number" step="0.01" min="0" max="1" id="AirCleanerFlowFractionInput" required>
          </div>
          <div class="unit">
            <div><label for="AirCleanerEffInput">Efficiency</label></div>
            <input type="number" step="0.01" min="0" max="1" id="AirCleanerEffInput" required>
          </div>
          <div class="unit">
            <div><abbr title="Clean air delivery rate"><label for="AirCleanerCADRInput">CADR</label></abbr></div>
            <input type="number" step="any" min="0" id="AirCleanerCADRInput" disabled>
            <span id="AirCleanerCADRUnits">test</span>
          </div>
        </div>

        <!---Particle Data -->
        <div class="sectiongrid">
          <div class="unithead">Particle Properties</div>
          <div class="unit">
            <div><label for="ParticleNameInput">Name</label></div>
            <input id="ParticleNameInput" required>
          </div>
          <div class="unit">
            <div><label for="ParticleDiameterInput">Diameter</label></div>
            <input type="number" step="any" min="0.01" id="ParticleDiameterInput" required>
            <select id="ParticleDiameterCombo"></select>
          </div>
          <div class="unit">
            <div><label for="ParticleDensityInput">Density</label></div>
            <input type="number" step="any" min="0.01" id="ParticleDensityInput" required>
            <select id="ParticleDensityCombo"></select>
          </div>
          <div class="unit">
            <div>Particle Deactivation</div>
            <select id="useParticleDecay">
              <option>Use</option>
              <option selected>Don't Use</option>
            </select>
          </div>
          <div class="unit">
            <div><label for="ParticleHalflifeInput">Half-life</label></div>
            <input type="number" step="0.01" min="0.01" id="ParticleHalflifeInput" disabled required>
            <select id="ParticleHalflifeCombo"></select>
          </div>
          <div class="unit">
            <div><label for="ParticleDecayRateInput">Decay Rate</label></div>
            <input type="number" step="any" id="ParticleDecayRateInput" disabled>
            <select id="ParticleDecayRateCombo"></select>
          </div>
        </div>

        <!---Continuous Source -->
        <div class="sectiongrid">
          <div class="unithead">Continuous Source</div>
          <div class="unit">
            <div>Source</div>
            <select id="constSrcState">
              <option selected>On</option>
              <option>Off</option>
            </select>
          </div>
          <div class="unit">
            <div><label for="ReleaseRateInput">Continuous Rate</label></div>
            <input type="number" step="any" min="0.01" id="ReleaseRateInput" required>
            <select id="ReleaseRateCombo"></select>
          </div>
          <div class="unit">
            <div>Source Time Period</div>
            <label for="ConstSourceStartTime">Start</label>
            <input id="ConstSourceStartTime" required style="width:5ch;"> / 
            <label for="ConstSourceEndTime">End</label>
            <input id="ConstSourceEndTime" required style="width:5ch;">
          </div>
        </div>
        <!---Burst Source -->
        <div class="sectiongrid">
          <div class="unithead">Burst Source</div>
          <div class="unit">
            <div>Source</div>
            <select id="brstSrcState">
              <option selected>On</option>
              <option>Off</option>
            </select>
          </div>
          <div class="unit">
            <div>Burst Type</div>
            <select id="brstType">
              <option>Single</option>
              <option selected>Intermittent</option>
            </select>
          </div>
          <div class="unit">
            <div><label for="ReleaseAmountInput">Burst Amount</label></div>
            <input type="number" step="any" min="0.01" id="ReleaseAmountInput" required>
            <select id="ReleaseAmountCombo"></select>
          </div>
          <div class="unit">
            <div>Source Time Period</div>
            <label for="BrstSourceStartTime">Start</label>
            <input id="BrstSourceStartTime" required style="width:5ch;"> / 
            <label for="BrstSourceEndTime">End</label>
            <input id="BrstSourceEndTime" required style="width:5ch;">
          </div>
          <div class="unit">
            <div><label for="RepeatSourceInput">Burst Interval</label></div>
            <input type="number" step="1" min="2" max="60" id="RepeatSourceInput" required> mins
          </div>
        </div>

        <!---Particle Deposition -->
        <div class="sectiongrid">
          <div class="unithead">Particle Deposition Velocities</div>
          <div class="unit">
            <div><label for="DepositionVelocityFloorInput">Floor</label></div>
            <input type="number" step="any" min="0" id="DepositionVelocityFloorInput" required>
            <select id="DepositionVelocityFloorCombo"></select>
          </div>
          <div class="unit">
            <div><label for="DepositionVelocityWallInput">Walls</label></div>
            <input type="number" step="any" min="0" id="DepositionVelocityWallInput" required>
            <span id="DepositionVelocityWallUnits"></span>
          </div>
          <div class="unit">
            <div><label for="DepositionVelocityCeilingInput">Ceiling</label></div>
            <input type="number" step="any" min="0" id="DepositionVelocityCeilingInput" required>
            <span id="DepositionVelocityCeilingUnits"></span>
          </div>
          <div class="unit">
            <div><label for="DepositionVelocityOtherInput">Other Surface</label></div>
            <input type="number" step="any" min="0" id="DepositionVelocityOtherInput" required>
            <span id="DepositionVelocityOtherUnits"></span>
          </div>
        </div>

        <!---Initial Concentration -->
        <div class="sectiongrid">
          <div class="unithead">Initial Concentrations</div>
          <div class="unit">
            <div><label for="InitialConcentrationOutdoorInput">Outdoor Air</label></div>
            <input type="number" step="any" min="0" id="InitialConcentrationOutdoorInput" required>
            <select id="InitialConcentrationOutdoorCombo"></select>
          </div>
          <div class="unit">
            <div><label for="InitialConcentrationInput">Zone Air</label></div>
            <input type="number" step="any" min="0" id="InitialConcentrationInput" required>
            <span id="InitialConcentrationUnits"></span>
          </div>
        </div>

        <!-- Occupant Exposure -->
        <div class="sectiongrid">
          <div class="unithead">Occupant Exposure</div>
          <div class="unit">
            <div><label for="StartExposureInput">Occupancy Time Period</label></div>
            <label for="StartExposureInput">Start</label>
            <input id="StartExposureInput" required style="width:5ch;"> / 
            <label for="EndExposureInput">End</label>
            <input id="EndExposureInput" required style="width:5ch;">
          </div>
        <div class="unit">
          <div>Occupancy Type</div>
          <select id="occType">
            <option selected>Constant</option>
            <option>Intermittent</option>
          </select>
        </div>
        <div class="unit">
          <div><label for="occIntervalInput">Intermittent Occupancy Interval</label></div>
          <input type="number" step="1" min="3" max="240" id="occIntervalInput" required> mins
        </div>
        <div class="unit">
          <div><label for="occDurationInput">Intermittent Occupancy Duration</label></div>
          <input type="number" step="1" min="2" max="60" id="occDurationInput" required> mins
        </div>
    </div>
  </div>

      <!-- RUN SIMULATION -->
      <div class="section">
        <input type="button" value="RUN SIMULATION" style="margin: 10px;background: #008817; color:white; border:none; padding:8px; font-weight:bold;"
               onclick="Nano.GetInputs();">
        <span id="simStatusSpan"></span>
        <span id="downloadLinksSpan"></span>
      </div>

      <!-- RESULTS -->
      <h3>Results</h3>
      <div class="section">

        <div class="sectiongrid">
          <div class="unithead">Sources</div>
          <div class="unit">
            <div>Continuous</div>
            <input type="number" step="any" min="0" disabled id="continuousEmmissionResult">
            <span id="continuousEmmissionResultUnits"></span>
          </div>
          <div class="unit">
            <div>Burst</div> 
            <input type="number" step="any" min="0" disabled id="burstEmmissionResult">
            <span id="burstEmmissionResultUnits"></span>
          </div>
          <div class="unit">
            <div>Outdoor</div> 
            <input type="number" step="any" min="0" disabled id="outdoorEmmissionResult">
            <span id="outdoorEmmissionResultUnits"></span>
          </div>
          <div class="unit">
            <div>Total</div>
            <input type="number" step="any" min="0" disabled id="totalEmmissionResult">
            <select id="totalEmmissionResultCombo"></select>
          </div>
        </div>

        <div class="sectiongrid">
          <div class="unithead">Airborne Concentration</div>
          <div class="unit">
            <div id="averageExposureDiv">Average</div>
            <input type="number" step="any" min="0" disabled id="averageExposureResult">
            <span id="averageExposureResultUnits"></span>
          </div>
          <div class="unit">
            <div>Average (24 h)</div> 
            <input type="number" step="any" min="0" disabled id="averageDailyExposureResult">
            <span id="averageDailyExposureResultUnits"></span>
          </div>
          <div class="unit">
            <div id="maxExposureDiv">Peak</div> 
            <input type="number" step="any" min="0" disabled id="maximumConcExpos">
            <span id="maximumConcExposUnits"></span>
          </div>
          <div class="unit">
            <div>Peak (24 h)</div> 
            <input type="number" step="any" min="0" disabled id="maximumConc">
            <select id="maximumConcCombo"></select>
          </div>
          <div class="unit">
            <div>Integrated Exposure</div>
            <input type="number" step="any" min="0" disabled id="IntegratedExposureInput">
            <select id="IntegratedExposureCombo"></select>
          </div>
        </div>
        <div class="sectiongrid">
          <div class="unithead">Surface Loading</div>
          <div class="unit">
            <div>Floor</div>
            <input type="number" step="any" min="0" disabled id="floorLoadingResult">
            <span id="floorLoadingResultUnits"></span>
          </div>
          <div class="unit">
            <div>Wall</div> 
            <input type="number" step="any" min="0" disabled id="wallLoadingResult">
            <span id="wallLoadingResultUnits"></span>
          </div>
          <div class="unit">
            <div>Ceiling</div> 
            <input type="number" step="any" min="0" disabled id="ceilingLoadingResult">
            <span id="ceilingLoadingResultUnits"></span>
          </div>
          <div class="unit">
            <div>Other</div> 
            <input type="number" step="any" min="0" disabled id="otherLoadingResult">
            <span id="otherLoadingResultUnits"></span>
          </div>
          <div class="unit">
            <div>Total</div>
            <input type="number" step="any" min="0" disabled id="totalLoadingResultInput">
            <select id="totalLoadingResultCombo"></select>
          </div>
        </div>

        <div class="sectiongrid">
          <div class="unithead">Mass Deposited</div>
          <div class="unit">
            <div>Floor</div>
            <input type="number" step="any" min="0" disabled id="floorMassDepResult">
            <span id="floorMassDepResultUnits"></span>
          </div>
          <div class="unit">
            <div>Walls</div> 
            <input type="number" step="any" min="0" disabled id="wallMassDepResult">
            <span id="wallMassDepResultUnits"></span>
          </div>
          <div class="unit">
            <div>Ceiling</div>
            <input type="number" step="any" min="0" disabled id="ceilingMassDepResult">
            <span id="ceilingMassDepResultUnits"></span>
          </div>
          <div class="unit">
            <div>Other</div> 
            <input type="number" step="any" min="0" disabled id="otherMassDepResult">
            <span id="otherMassDepResultUnits"></span>
          </div>
          <div class="unit">
            <div>Total</div>
            <input type="number" step="any" min="0" disabled id="totalMassDepResult">
            <select id="totalMassDepResultCombo"></select>
          </div>
        </div>

        <div class="sectiongrid">
          <div class="unithead">Mass Filtered</div>
          <div class="unit">
            <div>Outdoor Air</div>
            <input type="number" step="any" min="0" disabled id="oaFilterLoadingResult">
            <span id="oaFilterLoadingResultUnits"></span>
          </div>
          <div class="unit">
            <div>Recirculation</div> 
            <input type="number" step="any" min="0" disabled id="recFilterLoadingResult">
            <span id="recFilterLoadingResultUnits"></span>
          </div>
          <div class="unit">
            <div>Air Cleaner</div> 
            <input type="number" step="any" min="0" disabled id="acFilterLoadingResult">
            <span id="acFilterLoadingResultUnits"></span>
          </div>
          <div class="unit">
            <div>Total</div>
            <input type="number" step="any" min="0" disabled id="totalFilterLoadingResult">
            <select id="totalFilterLoadingResultCombo"></select>
          </div>
        </div>

        <div class="sectiongrid">
          <div class="unithead">Mass Eliminated</div>
          <div class="unit">
            <div>Deactivated</div>
            <input type="number" step="any" min="0" disabled id="massDeactivatedResult">
            <span id="massDeactivatedResultUnits"></span>
          </div>
          <div class="unit">
            <div>Exited Zone</div>
            <input type="number" step="any" min="0" disabled id="massExitedResult">
            <select id="massExitedResultCombo"></select>
          </div>
        </div>

      </div>
      <div class="section" style="padding:1ex; overflow:auto;">
        <div id="fate_chart" style="max-width: 600px; height: 300px;display:inline-block; width:100%;"></div>
        <div id="air_concen_chart" style="max-width: 600px; height: 300px;display:inline-block; width:100%;"></div>
        <div id="expos_chart" style="max-width: 600px; height: 300px;display:inline-block; width:100%;"></div>
        <div id="surf_concen_chart" style="max-width: 600px; height: 300px;display:inline-block; width:100%;"></div>
        <div id="sources_chart" style="max-width: 600px; height: 300px;display:inline-block; width:100%;"></div>
        <div id="deposited_chart" style="max-width: 600px; height: 300px;display:inline-block; width:100%;"></div>
        <div id="filtered_chart" style="max-width: 600px; height: 300px;display:inline-block; width:100%;"></div>
      </div>
    </article>
    <footer>
      Version 1.0 - Page Updated : 6/5/2018 - Page Created : 02/2016<br>
    </footer>
  </body>
</html>
